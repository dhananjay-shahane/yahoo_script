Stock Data Auto-Update Script
==================================================
1. Run once (update all existing tables)
2. Run Every 5 minutes (default)
3. Add new symbol
4. Add multiple symbols
5. Exit

Enter your choice (1, 2, 3, 4, or 5) [default: 2]: 1

üîÑ Running single update for all tables...

================================================================================
RUNNING SINGLE UPDATE FOR ALL TABLES
================================================================================
Current time: 2025-07-10 09:26:02 IST
Market status: OPEN
================================================================================

üìà Updating 2 5-minute tables...
------------------------------------------------------------

Updating 2 tables for time period 5M

Processing RELIANCE for 5M data...

üîÑ Processing RELIANCE (5M)
Using existing table SYMBOLS.RELIANCE_5M
üìÖ No existing data - fetching initial data
üîÑ Fetching 5M data for RELIANCE (data_interval: 5m)...
üîç Using Indian stock format: RELIANCE -> RELIANCE.NS
üì° Fetching 5m data for RELIANCE.NS (original: RELIANCE)
üìä Fetching 5-minute candles from 2025-07-10 07:26 to 2025-07-10 09:26
   üì° Attempt 1/3 for RELIANCE.NS
Failed to get ticker 'RELIANCE.NS' reason: Expecting value: line 1 column 1 (char 0)
RELIANCE.NS: No timezone found, symbol may be delisted
   ‚ö†Ô∏è  No data returned on attempt 1
   üì° Attempt 2/3 for RELIANCE.NS
Failed to get ticker 'RELIANCE.NS' reason: Expecting value: line 1 column 1 (char 0)
RELIANCE.NS: No timezone found, symbol may be delisted
   ‚ö†Ô∏è  No data returned on attempt 2
   üì° Attempt 3/3 for RELIANCE.NS
Failed to get ticker 'RELIANCE.NS' reason: Expecting value: line 1 column 1 (char 0)
RELIANCE.NS: No timezone found, symbol may be delisted
   ‚ö†Ô∏è  No data returned on attempt 3
   ‚ùå Failed to fetch data after 3 attempts
‚ÑπÔ∏è  No new data available for RELIANCE.NS
‚ÑπÔ∏è  No new data available for RELIANCE
No data available for RELIANCE
‚úÖ Completed RELIANCE (5M)

Processing NSEI for 5M data...

üîÑ Processing NSEI (5M)
Using existing table SYMBOLS.NSEI_5M
üìÖ No existing data - fetching initial data
üîÑ Fetching 5M data for NSEI (data_interval: 5m)...
üìä Using mapped Indian index: NSEI -> ^NSEI
üì° Fetching 5m data for ^NSEI (original: NSEI)
üìä Fetching 5-minute candles from 2025-07-10 07:26 to 2025-07-10 09:26
   üì° Attempt 1/3 for ^NSEI
Failed to get ticker '^NSEI' reason: Expecting value: line 1 column 1 (char 0)
^NSEI: No timezone found, symbol may be delisted
   ‚ö†Ô∏è  No data returned on attempt 1
   üì° Attempt 2/3 for ^NSEI
Failed to get ticker '^NSEI' reason: Expecting value: line 1 column 1 (char 0)
^NSEI: No timezone found, symbol may be delisted
   ‚ö†Ô∏è  No data returned on attempt 2
   üì° Attempt 3/3 for ^NSEI
Failed to get ticker '^NSEI' reason: Expecting value: line 1 column 1 (char 0)
^NSEI: No timezone found, symbol may be delisted
   ‚ö†Ô∏è  No data returned on attempt 3
   ‚ùå Failed to fetch data after 3 attempts
‚ÑπÔ∏è  No new data available for ^NSEI
‚ÑπÔ∏è  No new data available for NSEI
No data available for NSEI
‚úÖ Completed NSEI (5M)

üìä Updating 1 daily tables...
------------------------------------------------------------

Updating 1 tables for time period DAILY

Processing NSEI for DAILY data...

üîÑ Processing NSEI (DAILY)
Using existing table SYMBOLS.NSEI_DAILY
üìÖ No existing data - fetching initial data
üîÑ Fetching DAILY data for NSEI (data_interval: 1d)...
üìä Using mapped Indian index: NSEI -> ^NSEI
‚è∏Ô∏è  Throttling NSEI: Last request 15.7s ago (min: 120s)
‚ÑπÔ∏è  No new data available for NSEI
No data available for NSEI
‚úÖ Completed NSEI (DAILY)
