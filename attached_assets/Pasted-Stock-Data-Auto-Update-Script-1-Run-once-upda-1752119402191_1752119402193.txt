Stock Data Auto-Update Script
==================================================
1. Run once (update all existing tables)
2. Run Every 5 minutes (default)
3. Add new symbol
4. Add multiple symbols
5. Exit

Enter your choice (1, 2, 3, 4, or 5) [default: 2]: 2

ğŸ”„ Setting up continuous updates...

Configuration:
5-minute data interval in seconds [300]: 300
Daily data interval in seconds [3600]: 300

âœ… Starting continuous updates:
   â€¢ 5-minute data: every 300 seconds (5 minutes)
   â€¢ Daily data: every 300 seconds (5 minutes)

âš ï¸  Press Ctrl+C to stop

================================================================================
STARTING CONTINUOUS DATA COLLECTION - FOCUSED ON 5-MINUTE DATA
================================================================================
ğŸ“Š Configuration:
   â€¢ fetching_time_interval (5m): 300 seconds (5 minutes)
   â€¢ time_period (5m): '5m' (5-minute candles)
   â€¢ fetching_time_interval (daily): 300 seconds (5 minutes)
   â€¢ time_period (daily): '1d' (daily candles)
   â€¢ Market hours: 09:15 - 15:30 IST (Mon-Fri)
   â€¢ Rate limiting: Enabled to avoid API limits
   â€¢ Data processing: UTCâ†’IST conversion, most recent data at bottom
   â€¢ Current time: 2025-07-10 09:16:57 IST
ğŸ“‹ Focus: 2 5-minute tables (primary), 1 daily tables (secondary)
================================================================================

==================== CYCLE 1 ====================
Time: 2025-07-10 09:17:05 IST
Market Status: OPEN
------------------------------------------------------------
ğŸ“ˆ FETCHING 5-MINUTE DATA (time_period: '5m')...
   â€¢ fetching_time_interval: 300s
   â€¢ Data granularity: 5-minute candles

Updating 2 tables for time period 5M

Processing RELIANCE for 5M data...

ğŸ”„ Processing RELIANCE (5M)
Using existing table SYMBOLS.RELIANCE_5M
ğŸ“… No existing data - fetching initial data
ğŸ”„ Fetching 5M data for RELIANCE (data_interval: 5m)...
ğŸ” Checking NSE: RELIANCE.NS
Failed to get ticker 'RELIANCE.NS' reason: Expecting value: line 1 column 1 (char 0)
RELIANCE.NS: No price data found, symbol may be delisted (period=1d)
âŒ No data available for RELIANCE.NS
ğŸ” Checking international: RELIANCE
Failed to get ticker 'RELIANCE' reason: Expecting value: line 1 column 1 (char 0)
RELIANCE: No price data found, symbol may be delisted (period=1d)
âŒ No data available for RELIANCE
ğŸ” Checking BSE: RELIANCE.BO
Failed to get ticker 'RELIANCE.BO' reason: Expecting value: line 1 column 1 (char 0)
RELIANCE.BO: No price data found, symbol may be delisted (period=1d)
âŒ No data available for RELIANCE.BO
âš ï¸  Using preferred Indian symbol: RELIANCE.NS (validation failed but symbol is likely correct)
ğŸ“¡ Fetching 5m data for RELIANCE.NS (original: RELIANCE)
ğŸ“Š Fetching 5-minute candles from 08:47 to 09:17
   ğŸ“¡ Attempt 1/3 for RELIANCE.NS
Failed to get ticker 'RELIANCE.NS' reason: Expecting value: line 1 column 1 (char 0)
RELIANCE.NS: No timezone found, symbol may be delisted
   âš ï¸  No data returned on attempt 1
   ğŸ“¡ Attempt 2/3 for RELIANCE.NS
Failed to get ticker 'RELIANCE.NS' reason: Expecting value: line 1 column 1 (char 0)
RELIANCE.NS: No timezone found, symbol may be delisted
   âš ï¸  No data returned on attempt 2
   ğŸ“¡ Attempt 3/3 for RELIANCE.NS
Failed to get ticker 'RELIANCE.NS' reason: Expecting value: line 1 column 1 (char 0)
RELIANCE.NS: No timezone found, symbol may be delisted
   âš ï¸  No data returned on attempt 3
   âŒ Failed to fetch data after 3 attempts
â„¹ï¸  No new data available for RELIANCE.NS
â„¹ï¸  No new data available for RELIANCE
No data available for RELIANCE
âœ… Completed RELIANCE (5M)

Processing NSEI for 5M data...

ğŸ”„ Processing NSEI (5M)
Using existing table SYMBOLS.NSEI_5M
ğŸ“… No existing data - fetching initial data
ğŸ”„ Fetching 5M data for NSEI (data_interval: 5m)...
ğŸ“¡ Fetching 5m data for ^NSEI (original: NSEI)
ğŸ“Š Fetching 5-minute candles from 08:47 to 09:17
   ğŸ“¡ Attempt 1/3 for ^NSEI
Failed to get ticker '^NSEI' reason: Expecting value: line 1 column 1 (char 0)
^NSEI: No timezone found, symbol may be delisted
   âš ï¸  No data returned on attempt 1
   ğŸ“¡ Attempt 2/3 for ^NSEI
Failed to get ticker '^NSEI' reason: Expecting value: line 1 column 1 (char 0)
^NSEI: No timezone found, symbol may be delisted
   âš ï¸  No data returned on attempt 2
   ğŸ“¡ Attempt 3/3 for ^NSEI
Failed to get ticker '^NSEI' reason: Expecting value: line 1 column 1 (char 0)
^NSEI: No timezone found, symbol may be delisted
   âš ï¸  No data returned on attempt 3
   âŒ Failed to fetch data after 3 attempts
â„¹ï¸  No new data available for ^NSEI
â„¹ï¸  No new data available for NSEI
No data available for NSEI
âœ… Completed NSEI (5M)

ğŸ“Š FETCHING DAILY DATA (time_period: '1d')...
   â€¢ fetching_time_interval: 300s
   â€¢ Data granularity: Daily candles

Updating 1 tables for time period DAILY

Processing NSEI for DAILY data...

ğŸ”„ Processing NSEI (DAILY)
Using existing table SYMBOLS.NSEI_DAILY
ğŸ“… No existing data - fetching initial data
ğŸ”„ Fetching DAILY data for NSEI (data_interval: 1d)...
â¸ï¸  Throttling NSEI: Last request 12.9s ago (min: 300s)
â„¹ï¸  No new data available for NSEI
No data available for NSEI
âœ… Completed NSEI (DAILY)

ğŸ’¤ Waiting 300 seconds until next 5-minute data cycle...
â° Next 5m update at: 09:22:05